  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Nexthrix SMP — Staff (Crystal Glass)</title>

    <link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">

    <style>
      /* ---------------------------
        CRYSTAL GLASS THEME (STAFF PAGE)
        --------------------------- */
      :root{
        --bg-1:#070205;
        --bg-2:#0c0013;
        --glass-bg: rgba(255,255,255,0.08);
        --glass-strong: rgba(255,255,255,0.14);
        --accent:#ff4d9f;
        --muted:rgba(255,255,255,0.75);
        --radius:16px;
      }

      /* reset */
      *{box-sizing:border-box}
      html,body{height:100%;margin:0;padding:0;font-family:'Minecraft', "Poppins", system-ui, Arial, sans-serif;background:radial-gradient(circle at 20% 20%, #28002e, #0c0013 70%);color:#fff;-webkit-font-smoothing:antialiased}
      a{color:inherit;text-decoration:none}

      /* background canvas sits under content */
      #bgCanvas{position:fixed;inset:0;z-index:0;pointer-events:none}

      /* top nav (crystal) */
      nav{
        position:sticky; top:8px; z-index:60; width:94%; margin:12px auto; display:flex; align-items:center; justify-content:space-between;
        background: rgba(0,0,0,0.28); backdrop-filter: blur(12px);
        border-radius:12px; padding:10px 18px; border:1.2px solid rgba(255,255,255,0.12);
        box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      }
      .nav-links{display:flex;align-items:center;gap:14px}
      nav img{height:40px; border-radius:6px}
      nav a{font-family:'Minecraft'; font-weight:700; padding:8px 10px; border-radius:8px; transition:0.25s}
      nav a:hover{background: rgba(255,0,200,0.12); text-shadow:0 0 8px #ff00d9; color:#ffb6ff}
      .menu-icon{font-size:22px; cursor:pointer; display:none}

      /* responsive nav */
      @media(max-width:780px){
        .nav-links a{display:none}
        .menu-icon{display:block}
      }

      /* layout wrapper */
      .wrap{position:relative;z-index:5;max-width:1200px;margin:36px auto;padding:20px}

      header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:18px}
      .title{display:flex;flex-direction:column}
      h1{margin:0;font-size:1.95rem;font-family:'Minecraft'}
      p.lead{margin:4px 0 0;color:var(--muted);font-size:0.95rem}

      /* main two-column */
      .layout{display:grid;grid-template-columns:1fr 380px;gap:24px;align-items:start}

      /* controls */
      .controls{display:flex;gap:10px;align-items:center;margin-bottom:12px}
      .search input{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;font-family:inherit}
      .btn{padding:9px 12px;border-radius:12px;border:0;background:linear-gradient(90deg,#ff6b6b,#ff3b3b);color:#fff;font-weight:700;cursor:pointer;font-family:inherit}
      .select{padding:9px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}

      /* staff grid (cards are crystal too) */
      .staff-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}

      .card{
        --card-bg: rgba(255,255,255,0.06);
        display:flex;gap:14px;align-items:center;padding:14px;border-radius:16px;
        background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.06));
        border: 1.5px solid rgba(255,255,255,0.08);
        box-shadow: 0 12px 34px rgba(0,0,0,0.7), inset 0 0 8px rgba(255,255,255,0.03);
        overflow:hidden; backdrop-filter: blur(10px);
        transition: transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s;
        cursor:default;
        transform-style:preserve-3d;
      }
      .card:hover{ transform: translateY(-10px) scale(1.01); box-shadow: 0 30px 80px rgba(0,0,0,0.85) }

      .avatar{width:84px;height:84px;border-radius:50%;overflow:hidden;flex:0 0 84px;border:3px solid rgba(255,255,255,0.05);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06))}
      .avatar img{width:100%;height:100%;object-fit:cover;display:block}

      .meta{flex:1}
      .roleline{display:flex;align-items:center;gap:10px;margin-bottom:6px}
      .badge{padding:6px 10px;border-radius:999px;font-weight:800;color:#08121a;font-size:12px}
      .badge.owner{background:#ff4d6d; box-shadow:0 8px 30px rgba(255,77,109,0.12)}
      .badge.manager{background:#ffb86b; box-shadow:0 8px 30px rgba(255,184,107,0.10)}
      .badge.admin{background:#b788ff; box-shadow:0 8px 30px rgba(183,136,255,0.10)}
      .badge.moderator{background:#66e0b2; box-shadow:0 8px 30px rgba(102,224,178,0.10)}
      .badge.executive{background:#ffd27a; box-shadow:0 8px 30px rgba(255,210,122,0.10)}

      .name{font-weight:800;font-size:1.06rem;font-family:'Minecraft'}
      .desc{color:var(--muted);font-size:0.92rem;margin-top:6px}

      /* right admin panel (glass) */
      .panel{
        background: rgba(255,255,255,0.06);
        border-radius:14px;padding:16px;border:1.2px solid rgba(255,255,255,0.07);
        backdrop-filter: blur(12px);
        box-shadow: 0 10px 40px rgba(0,0,0,0.65);
      }
      .panel h3{margin:0 0 8px;color:var(--accent);font-family:'Minecraft'}
      .field{margin-bottom:10px}
      .field input,.field select{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:rgba(0,0,0,0.35);color:white;font-family:inherit}
      .panel .row{display:flex;gap:8px}
      .panel .row input{flex:1}
      .panel .danger{background:#aa0000;color:white;border:none;padding:10px;border-radius:10px;cursor:pointer}

      .divider{height:2px;margin:28px 0;border:none;background:linear-gradient(90deg,transparent,#ff6b6b,transparent);opacity:0.6}

      /* admin gate helpers */
      #adminGate{display:flex;gap:8px;align-items:center;justify-content:center;margin-bottom:14px}
      #adminPanel{display:none}

      /* small footer */
      footer{margin-top:40px;text-align:center;padding-bottom:20px;opacity:.7;font-family:'Minecraft'}

      /* responsive */
      @media (max-width:980px){
        .layout{grid-template-columns:1fr}
        .avatar{width:68px;height:68px}
        .wrap{padding:12px}
      }
    </style>
  </head>
  <body>

    <!-- background canvas (subtle particles) -->
    <canvas id="bgCanvas" aria-hidden="true"></canvas>

    <!-- navigation (crystal) -->
    <nav>
      <div class="nav-links">
        <img src="assets/logo.png" alt="Nexthrix logo">
        <a href="index.html" onclick="playClick()">Home</a>
        <a href="rules.html" onclick="playClick()">Rules</a>
        <a href="store.html" onclick="playClick()">Store</a>
        <a href="vote.html" onclick="playClick()">Vote</a>
        <a href="staff.html" onclick="playClick()">Staff</a>
      </div>
      <div id="menu-btn" class="menu-icon" onclick="toggleMobileMenu()">☰</div>
    </nav>

    <!-- mobile slide menu -->
    <div id="mobile-menu" class="mobile-nav" style="position:fixed; right:-100%; top:0; width:60%; height:100%; background:rgba(0,0,0,0.4); backdrop-filter:blur(14px); padding-top:80px; transition:0.4s; z-index:70;">
      <a href="index.html" onclick="playClick()">Home</a>
      <a href="rules.html" onclick="playClick()">Rules</a>
      <a href="store.html" onclick="playClick()">Store</a>
      <a href="vote.html" onclick="playClick()">Vote</a>
      <a href="staff.html" onclick="playClick()">Staff</a>
    </div>

    <div class="wrap">
      <header>
        <div class="title">
          <h1>Nexthrix SMP — Staff</h1>
          <p class="lead">Polished staff directory — premium Crystal Glass UI.</p>
        </div>

        <div class="controls">
          <div class="search"><input id="search" placeholder="Search name, IGN or role" /></div>
          <button id="exportBtn" class="btn">Export JSON</button>
        </div>
      </header>

      <div class="layout">
        <section>
          <div id="staffList" class="staff-list" aria-live="polite"></div>

          <hr class="divider" />
        </section>

        <aside class="panel" aria-hidden="false">
          <h3>Admin Access</h3>

          <div id="adminGate">
            <input type="password" id="adminPass" placeholder="Admin password" style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(0,0,0,0.36);color:white">
            <button id="unlockBtn" class="btn" style="background:linear-gradient(90deg,#ff3b3b,#aa0000)">Unlock</button>
          </div>

          <div id="adminPanel">
            <div class="field row">
              <input id="name" placeholder="Display name (e.g. Nxh 乇 Frocknox)" />
              <input id="ign" placeholder="IGN" />
            </div>
            <div class="field">
              <select id="roleSelect">
                <option>Owner</option>
                <option>Manager</option>
                <option>Admin</option>
                <option>Moderator</option>
                <option>Executive</option>
              </select>
            </div>
            <div class="field">
              <input id="imgUrl" placeholder="Image URL (or leave blank)" />
            </div>
            <div class="field">
              <input id="imgFile" type="file" accept="image/*" />
            </div>
            <div style="display:flex;gap:8px">
              <button id="addBtn" class="btn" style="flex:1;background:linear-gradient(90deg,#ff6b6b,#ff3b3b)">Add Member</button>
              <button id="clearBtn" class="danger" style="flex:1;background:#aa0000;color:white;border-radius:10px;border:none;padding:10px;cursor:pointer">Clear All</button>
            </div>
            <p style="color:var(--muted);font-size:0.85rem;margin-top:10px">Note: This is a client-side protected panel. Password is local to the page (for stronger security move this to a server).</p>
          </div>
        </aside>
      </div>
    </div>

    <footer>
      <p>&copy; 2025 Nexthrix SMP</p>
    </footer>

    <script>
      /* small click sound reused */
      const clickSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3");
      function playClick(){ try{ clickSound.currentTime=0; clickSound.play(); }catch(e){} }

      /* mobile menu toggle */
      function toggleMobileMenu(){
        const m = document.getElementById('mobile-menu');
        m.style.right = (m.style.right === '0px') ? '-100%' : '0px';
        playClick();
      }

      /* ---------- Dynamic background particles on canvas ---------- */
      const canvas = document.getElementById('bgCanvas'); const ctx = canvas.getContext('2d');
      function setSize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
      setSize(); addEventListener('resize', setSize);
      const particles = []; function rand(min,max){return Math.random()*(max-min)+min}
      function Particle(){ this.x = rand(0,canvas.width); this.y = rand(0,canvas.height); this.vx = rand(-0.25,0.25); this.vy = rand(-0.25,0.25); this.r = rand(0.6,2.4); }
      for(let i=0;i<180;i++) particles.push(new Particle());
      function bgLoop(){ ctx.clearRect(0,0,canvas.width,canvas.height); for(const p of particles){ p.x += p.vx; p.y += p.vy; if(p.x<0)p.x=canvas.width; if(p.x>canvas.width)p.x=0; if(p.y<0)p.y=canvas.height; if(p.y>canvas.height)p.y=0; ctx.beginPath(); ctx.fillStyle='rgba(255,80,150,0.04)'; ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); } requestAnimationFrame(bgLoop); } bgLoop();

      /* ---------- Staff manager (localStorage) ---------- */
      const STORAGE_KEY = 'nexthrix_staff_v2';
      let staff = JSON.parse(localStorage.getItem(STORAGE_KEY) || 'null') || [];

      const localImages = {
        'ownerA':'/mnt/data/fea5e68e-06a8-4eb7-8220-fa46fc174e24.png',
        'managerA':'/mnt/data/c174bb3c-ae37-4083-8a8c-96131ecd6ac3.png',
        'adminA':'/mnt/data/79d3d912-a63e-4ee5-a07d-076f6e0d3cc6.png',
        'modA':'/mnt/data/b2344873-9c33-49c7-83b1-2df36bc1ab1f.png',
        'execA':'/mnt/data/1c8f8323-31aa-4d7d-9180-f8b05ef1412a.png'
      };

      if(!staff || staff.length===0){
        staff = [
          {name:'Nxh 乇 Frocknox',ign:'speedlegend123',role:'Owner',img:localImages.ownerA},
          {name:'Nxh 乇 TheyWantBlood',ign:'incredible_byte',role:'Owner',img:localImages.ownerA},
          {name:'Nxh 乇 LongSteps',ign:'tradesecret01_',role:'Owner',img:localImages.ownerA},
          {name:'Nxh 乇 Z14l3d_',ign:'z14l3d_',role:'Manager',img:localImages.managerA},
          {name:'Nxh 乇 ➤ —̶N̶o̶t̶ haiderrr',ign:'not_haiderrr',role:'Manager',img:localImages.managerA},
          {name:'BOLTED',ign:'bolted_95',role:'Admin',img:localImages.adminA},
          {name:'Nxh 乇 LongSteps',ign:'tradesecret01_',role:'Moderator',img:localImages.modA},
          {name:'BOLTED',ign:'bolted_95',role:'Moderator',img:localImages.modA},
          {name:'Nxh 乇 CULTTTT',ign:'roynisha…',role:'Executive',img:localImages.execA}
        ];
        save();
      }

      function save(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(staff)); }

      const staffList = document.getElementById('staffList');
      function badgeClass(role){ return {'Owner':'owner','Manager':'manager','Admin':'admin','Moderator':'moderator','Executive':'executive'}[role] || 'manager' }
      function buildCard(m){
        const el = document.createElement('article'); el.className = 'card';
        const av = document.createElement('div'); av.className='avatar'; const img = document.createElement('img'); img.src = m.img || localImages.ownerA; img.alt = m.name; av.appendChild(img);
        const meta = document.createElement('div'); meta.className='meta';
        const roleline = document.createElement('div'); roleline.className='roleline';
        const badge = document.createElement('span'); badge.className='badge '+badgeClass(m.role).toLowerCase(); badge.textContent = m.role;
        roleline.appendChild(badge);
        const name = document.createElement('div'); name.className='name'; name.textContent = m.name;
        const desc = document.createElement('div'); desc.className='desc'; desc.textContent = m.ign ? `IGN: ${m.ign}` : '';
        meta.appendChild(roleline); meta.appendChild(name); meta.appendChild(desc);
        el.appendChild(av); el.appendChild(meta);

        // admin-only right click removal
        el.addEventListener('contextmenu', e=>{ e.preventDefault(); if(!isAdmin) return; if(confirm(`Remove ${m.name}?`)){ staff = staff.filter(s=>!(s.name===m.name && s.ign===m.ign)); save(); render(); }});

        // pointer tilt micro-interaction
        el.addEventListener('pointermove', e=>{ const r=el.getBoundingClientRect(); const cx=r.left+r.width/2; const cy=r.top+r.height/2; const dx=(e.clientX-cx)/r.width; const dy=(e.clientY-cy)/r.height; el.style.transform=`translateY(-10px) rotateX(${(-dy*6).toFixed(2)}deg) rotateY(${(dx*6).toFixed(2)}deg) scale(1.02)`; });
        el.addEventListener('pointerleave', ()=>{ el.style.transform=''; });

        return el;
      }

      function render(filter=''){
        staffList.innerHTML = '';
        const q = document.getElementById('search').value.trim().toLowerCase();
        const visible = staff.filter(m=>(!q || (m.name+m.ign+m.role).toLowerCase().includes(q)) && (!filter || m.role===filter));
        if(visible.length===0){
          const empty = document.createElement('div'); empty.className='card'; empty.style.justifyContent='center'; empty.style.minHeight='120px'; empty.innerHTML='<div style="opacity:0.8;color:rgba(255,255,255,0.7)">No staff found.</div>';
          staffList.appendChild(empty);
          return;
        }
        visible.forEach(m=>staffList.appendChild(buildCard(m)));
      }

      document.getElementById('search').addEventListener('input', ()=>render());

      /* ---------- Admin gate ---------- */
      const ADMIN_PASS = 'nexthoparoyal112'; // local client pass
      let isAdmin = false;
      document.getElementById('unlockBtn').addEventListener('click', ()=>{ const v = document.getElementById('adminPass').value;
        // two-stage verification (keeps earlier behavior)
        if(v === ADMIN_PASS){
          if(!confirm('Confirm admin unlock?')) return;
          isAdmin = true; document.getElementById('adminGate').style.display='none'; document.getElementById('adminPanel').style.display='block';
          alert('Admin unlocked — you can now add or remove members (right-click a card to remove).');
        } else alert('Wrong password');
      });

      /* add member */
      document.getElementById('addBtn').addEventListener('click', async ()=>{
        if(!isAdmin){ alert('Unlock admin first'); return }
        const name = document.getElementById('name').value.trim(); const ign = document.getElementById('ign').value.trim(); const role = document.getElementById('roleSelect').value; const imgUrl = document.getElementById('imgUrl').value.trim(); const imgFile = document.getElementById('imgFile').files[0];
        if(!name){ alert('Name is required'); return }
        let img='';
        if(imgFile){ img = await new Promise(res=>{ const r = new FileReader(); r.onload=e=>res(e.target.result); r.readAsDataURL(imgFile); }); }
        else if(imgUrl) img = imgUrl;
        staff.push({name,ign,role,img}); save(); render(); document.getElementById('name').value=''; document.getElementById('ign').value=''; document.getElementById('imgUrl').value=''; document.getElementById('imgFile').value='';
        try{ playClick(); }catch(e){}
      });

      /* clear all */
      document.getElementById('clearBtn').addEventListener('click', ()=>{ if(!isAdmin){ alert('Unlock admin first'); return } if(confirm('Clear all staff entries?')){ staff=[]; save(); render(); } });

      /* export */
      document.getElementById('exportBtn').addEventListener('click', ()=>{ const a = document.createElement('a'); a.href = URL.createObjectURL(new Blob([JSON.stringify(staff, null, 2)], {type:'application/json'})); a.download='nexthrix-staff.json'; a.click(); });

      /* initial render */
      render();

      /* accessibility: unlock with Enter */
      document.getElementById('adminPass').addEventListener('keydown', e=>{ if(e.key==='Enter') document.getElementById('unlockBtn').click(); });

    </script>

  </body>
  </html>
